<!DOCTYPE html>
<html lang="JN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jyanken Program</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&display=swap" rel="stylesheet">
</head>
<body>
    <div id="particles-js"></div>
    <div id="wrapper">
     <!-- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼-->   
    <div id="navArea">
    <nav>
      <div class="inner">
        <!-- button ã‚­ãƒ£ãƒ©ã‚’æ›¿ãˆã¦å†é–‹ãƒœã‚¿ãƒ³-->
        <p class="select_message">ã˜ã¶ã‚“ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’é¸ã‚“ã§ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã­!</p>
        <div class="select_wrapper">
            <div class = "select_chara">
                <select name="select_character" class="pulldown">
                    <option value="0">ãƒ”ã‚«ãƒãƒ¥ã‚¦</option>
                    <option value="1">ãƒ­ã‚³ãƒ³ï¼ˆã‚¢ãƒ­ãƒ¼ãƒ©ï¼‰</option>
                    <option value="2">ã‚¤ãƒ¼ãƒ–ã‚¤</option>
                    <option value="3">ãƒãƒ‹ãƒ¼ã‚¿ï¼ˆã‚¬ãƒ©ãƒ«ï¼‰</option>
                    <option value="4">ã‚³ãƒªãƒ³ã‚¯</option>
                </select>
            </div>
            <button class="btn2" type="button">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
        </div>
        <p class="select_message">ï¼“åŒ¹ãŸãŠã—ãŸã‚‰ã§ã‚“ã›ã¤ã®ãƒã‚±ãƒ¢ãƒ³ã¨ãƒãƒˆãƒ«ã§ãã‚‹ã‚ˆï¼</p>
        <div class="hako_wrapper"> 
            <div class="hako chara_a">
                <img src="images/Pikachu.png" alt="å‘³æ–¹ã‚­ãƒ£ãƒ©">
            </div>
            <p class="select_message">VS</p>
            <div class="hako chara_b">
                <img src="images/alora-rokon.png" alt="ç›¸æ‰‹ã‚­ãƒ£ãƒ©">
            </div>
        </div>
        <div class="hako_wrapper"> 
            <div class="hako chara_a2">
                <img src="images/white box.jpeg" alt="å‘³æ–¹ã‚­ãƒ£ãƒ©">
            </div>
            <p class="select_message">VS</p>
            <div class="hako chara_b2">
                <img src="images/i-vy.png" alt="ç›¸æ‰‹ã‚­ãƒ£ãƒ©">
            </div>
        </div>
        <div class="hako_wrapper"> 
            <div class="hako chara_a3">
                <img src="images/white box.jpeg" alt="å‘³æ–¹ã‚­ãƒ£ãƒ©">
            </div>
            <p class="select_message">VS</p>
            <div class="hako chara_b3">
                <img src="images/garaluponi-ta.png" alt="ç›¸æ‰‹ã‚­ãƒ£ãƒ©">
            </div>
        </div>
        <p class="select_message">ã§ã‚“ã›ã¤ã®ãƒã‚±ãƒ¢ãƒ³ã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ï¼ï¼</p>
        <div class="hako_wrapper"> 
            <div class="hako chara_a_last">
                <img src="images/white box.jpeg" alt="å‘³æ–¹ã‚­ãƒ£ãƒ©">
            </div>
            <p class="select_message">VS</p>
            <div class="hako chara_last">
                <img src="images/hatena.jpg" alt="ç›¸æ‰‹ã‚­ãƒ£ãƒ©">
            </div>
        </div>
      </div>
    </nav>
  
    <div class="toggle_btn">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <div id="mask"></div>
  </div>
  
    <!-- header ã‚¿ã‚¤ãƒˆãƒ«è¡¨ç¤º-->
    <h1>ãƒã‚±ãƒ¢ãƒ³ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ãƒãƒˆãƒ«ï¼</h1>

    <div class="player_wrapper">
        <div class="player">
            <div class="player_1">1äººãƒ—ãƒ¬ã‚¤</div>
            <div class="onamae">
                <p>ã‚ãªãŸã®ãŠãªã¾ãˆï¼š</p>
                <input type="text" id="key">
                <button id="save">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
            </div>
            <p class="tensuu">ï¼ˆåå‰ã‚’ã„ã‚Œã¦ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ã¨æˆ¦ãŠã†ï¼<br>åˆè¨ˆç‚¹æ•°ãŒ<a href="#seiseki">æˆç¸¾è¡¨</a>ã«ãã‚ãã¨ã—ã¦ã®ã“ã‚‹ã‚ˆï¼ï¼‰</p>
            <p class="tensuu">1åŒ¹ç›®ã‚’å€’ã™ã¨1ç‚¹ã€2åŒ¹ç›®ã‚’å€’ã™ã¨2ç‚¹ã€3åŒ¹ç›®ã‚’å€’ã™ã¨3ç‚¹ã€<br>ä¼èª¬ã®ãƒã‚±ãƒ¢ãƒ³ã‚’å€’ã™ã¨4ç‚¹ã®ãƒã‚¤ãƒ³ãƒˆã‚²ãƒƒãƒˆã ãœ</p>
        </div>
        
        <div class="player">
            <div class="player_1">å¯¾æˆ¦ãƒ—ãƒ¬ã‚¤</div>
                <!-- <div class="onamae">
                    <p>ã‚ãªãŸã®ãŠãªã¾ãˆï¼š</p>
                    <input type="text" id="key">
                    <button id="save">ç™»éŒ²</button>
                </div>
                <div class="onamae">
                <p>ã‚ã„ã¦ã®ãŠãªã¾ãˆï¼š</p>
                <input type="text" id="key">
                <button id="save">ç™»éŒ²</button>
                </div>
            <p class="tensuu">ãµãŸã‚Šã®åå‰ã‚’å…¥åŠ›ã—ã¦å¯¾æˆ¦ã—ã‚ˆã†ï¼<br>ãµãŸã‚Šã®å…¥åŠ›å¾Œã«â†“ã®ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã­</p>
            <button id="save">ã‚¹ã‚¿ãƒ¼ãƒˆ</button>     -->
        </div>
    </div>

    <!-- message_box ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒœãƒƒã‚¯ã‚¹-->
    <div class="message_box" id="message_box">
        <p class="message_contents">
            ã‚°ãƒ¼ã€ãƒãƒ§ã‚­ã€ãƒ‘ãƒ¼ã®ã©ã‚Œã‹ã‚’ãˆã‚‰ã‚“ã§ã­ã€‚ã‹ã£ãŸæ–¹ãŒã“ã†ã’ãï¼<br>
            ï¼ˆâ€»ã“ã†ã’ãã‚Šã‚‡ãã¯ã‚°ãƒ¼ï¼š20ã€ãƒãƒ§ã‚­ï¼š30ã€ãƒ‘ãƒ¼ï¼š40ã§ã€<br>
            ã‚ãŸãˆã‚‹ãƒ€ãƒ¡ãƒ¼ã‚¸ã¯ãƒ’ãƒƒãƒˆã®ã¤ã‚ˆã•ã«ã‚ˆã£ã¦ã‹ã‚ã‚‹ã‚ˆã€‚ï¼‰<br><br>
            ã˜ã¶ã‚“ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ã‹ãˆãŸã‘ã‚Œã°å·¦ä¸Šã®ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãŠã—ã¦ã­ï¼
        </p>
    </div>
    <!-- Name and HP åå‰ã¨ãƒ’ãƒƒãƒˆãƒã‚¤ãƒ³ãƒˆè¡¨ç¤º-->
    <div class="wrapper">
        <Div class="name_hp chara_a">
            <div class="name_box">
                <p class="name_base chara_a">ã‚ãªãŸï¼š</p>
                <p class="name chara_a">ãƒ”ã‚«ãƒãƒ¥ã‚¦</p>
            </div>
            <p class="hp">H/P</p>
            <div class="hp_gage chara_a">
                <Div class="hp_max chara_a"></Div>
                <Div class="hp_now chara_a">100/100</Div>
            </div>
        </Div>
        <Div class="name_hp chara_b">
            <div class="name_box">
                <p class="name_base">ã‚ã„ã¦ï¼š</p>
                <p class="name chara_b">ãƒ­ã‚³ãƒ³ï¼ˆã‚¢ãƒ­ãƒ¼ãƒ©ï¼‰</p>
            </div>
        <p class="hp">H/P</p>
            <div class="hp_gage chara_b">
                <Div class="hp_max chara_b"></Div>
                <Div class="hp_now chara_b">100/100</Div>
            </div>
        </Div>
    </div>
    <!-- battle field æˆ¦å ´-->
    <div class="wrapper">
        <div class="battle_character chara_a" id="charaid_a">
            <img src="images/Pikachu.png" alt="å‘³æ–¹ã‚­ãƒ£ãƒ©">
        </div>
        <div class="battle_hand chara_a">
            <img src="images/gu-300x300.png" alt="å‘³æ–¹ã®æ‰‹">
        </div>
        <p class="VS">VS</p>
        <div class="battle_hand chara_b">
            <img src="images/choki-300x300.png" alt="ç›¸æ‰‹ã®æ‰‹">
        </div>
        <div class="battle_character chara_b" id="charaid_a">
            <img src="images/alora-rokon.png" alt="ç›¸æ‰‹ã‚­ãƒ£ãƒ©">
        </div>       
    </div>

    <!-- select options ããƒ¼ã¡ã‚‡ãã±ãƒ¼ã®é¸æŠè‚¢-->
    <div class="wrapper option">
        <button type="button" class="option_box" value="0">
            <img src="images/gu-300x300.png" alt="ã‚°ãƒ¼">
            <p class="option_hand">ã‚°ãƒ¼</p>
        <button type="button" class="option_box" value="1">
            <img src="images/choki-300x300.png" alt="ãƒãƒ§ã‚­">
            <p class="option_hand">ãƒãƒ§ã‚­</p>
        </button>
        <button type="button" class="option_box" value="2">
            <img src="images/pa-300x300.png" alt="ãƒ‘ãƒ¼">
            <p class="option_hand">ãƒ‘ãƒ¼</p>
        </button>

        <!-- <div class="space_box"></div>

        <button type="button" class="option_box" value="0">
            <img src="images/gu-300x300.png" alt="ã‚°ãƒ¼">
            <p class="option_hand">ã‚°ãƒ¼</p>
        <button type="button" class="option_box" value="1">
            <img src="images/choki-300x300.png" alt="ãƒãƒ§ã‚­">
            <p class="option_hand">ãƒãƒ§ã‚­</p>
        </button>
        <button type="button" class="option_box" value="2">
            <img src="images/pa-300x300.png" alt="ãƒ‘ãƒ¼">
            <p class="option_hand">ãƒ‘ãƒ¼</p>
        </button> -->

        <div class="space_box2"></div>
        
    </div>
        <div class = "button_wrap">
        <!-- button æœ€åˆã«æˆ»ã‚‹/ã‚­ãƒ£ãƒ©æ›¿ãˆãƒœã‚¿ãƒ³-->
            <input class="btn again" type="button" value="åŒã˜ã‚ã„ã¦ã¨ã‚‚ã†ä¸€å›">
            <!-- <input class="btn next" type="button" value="æ¬¡ã®ã‚ã„ã¦ã«ã™ã™ã‚€"> -->
            <input class="btn reset" type="button" value="ã•ã„ã—ã‚‡ã«ã‚‚ã©ã‚‹">
        </div>
<!--/wrapper--></div>

<!-- ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›æ¬„ -->
<div class="comment_wrap">
    <div>
        <!-- <div> åå‰ï¼š<input type="text" id="uname"> </div> -->
        <p class="name_base chara_a">ã‚ãªãŸã®ã‚³ãƒ¡ãƒ³ãƒˆ</p>
        <div>
            <textarea id="text_a" cols="65" rows="4"></textarea>
            <button id="send_a" class="comment_send">é€ä¿¡</button>
        </div>
    </div>
    <div>
        <!-- <div> åå‰ï¼š<input type="text" id="uname"> </div> -->
        <p class="name_base chara_b">ã‚ã„ã¦ã®ã‚³ãƒ¡ãƒ³ãƒˆ</p>
        <div>
            <textarea id="text_b" cols="65" rows="4"></textarea>
            <button id="send_b">é€ä¿¡</button>
        </div>
    </div>
</div>
<div id="output" class="comment_box"></div>
<button class="comment_clear" id="comment_clear">å‰Šé™¤</button>
<!--/ ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›æ¬„ -->

<footer class="shikiri text-center">
    <small class="copyrights"></small>
</footer>

<div class="seiseki" id="seiseki">æˆç¸¾è¡¨ï¼ˆã“ã‚Œã¾ã§ã«ã‹ãã¨ãã—ãŸãƒã‚¤ãƒ³ãƒˆã”ã†ã‘ã„ï¼‰</div>
<table class="tablesorter"  id="list">
    <thead>
        <tr>
        <th>ãŠãªã¾ãˆ</th>
        <th>ã”ã†ã‘ã„ã¦ã‚“</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>ã†ãˆã®ã•ã‚“</td>
            <td>100</td>
        </tr> 
        <tr>
            <td>ã‹ãŸãã‚Šã•ã‚“</td>
            <td>50</td>
        </tr>
        <tr>
            <td>ç”°å³¶ã•ã‚“</td>
            <td>10</td>
        </tr>        
    </tbody>
</table>
<button class="clear" id="clear">å‰Šé™¤</button>



    <!-- Jqueryã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.3/js/jquery.tablesorter.min.js"></script>
    <script src="js/particles.js-master/particles.js-master/particles.min.js"></script>
    <script src="js/janken2.js"></script>

<!--** ä»¥ä¸‹Firebase **-->
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-app.js";
    import {
      getDatabase,
      ref,
      push,
      set,
      onChildAdded,
      remove,
      onChildRemoved,
    } from "https://www.gstatic.com/firebasejs/9.1.0/firebase-database.js";
    // Your web app's Firebase configuration
        const firebaseConfig = {

        };

        const app = initializeApp(firebaseConfig);
        const db  = getDatabase(app); //RealtimeDBã«æ¥ç¶š
        const dbRef = ref(db,"chat"); //RealtimeDBå†…ã®"chat"ã‚’ä½¿ã†

        //ã‚ãªãŸå´ã®é€ä¿¡ã®ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
        $("#send_a").on("click", function () {
        // alert(1);
        let uname_a = key;
        if(uname_a == ""){
            uname_a = "ã‚ãªãŸ";
        }
        const text_a = $('#text_a').val();

        // ãƒ‡ãƒ¼ã‚¿ã®å¡Šã‚’ä½œæˆã—ã¾ã™ğŸ¤—
        const msg = {
            uname: "a"+uname_a,
            text: text_a,
        }

        const newPostRef = push(dbRef);
        set(newPostRef, msg);

        //å…¥åŠ›æ¬„ã‚’ã‹ã‚‰ã«ã™ã‚‹
        // $('#uname_a').val("");
        $('#text_a').val("");

        });


        // ç›¸æ‰‹å´ã®ã‚³ãƒ¡ãƒ³ãƒˆé€ä¿¡ãƒœã‚¿ãƒ³æŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
        $("#send_b").on("click", function () {
        // alert(1);
        // let uname_b = key_b;
        // if(uname_b == ""){
        let uname_b = "ã‚ã„ã¦";
        // }
        const text_b = $('#text_b').val();

        // ãƒ‡ãƒ¼ã‚¿ã®å¡Šã‚’ä½œæˆã—ã¾ã™ğŸ¤—
        const msg = {
            uname: "b"+uname_b,
            text: text_b,
        }

        const newPostRef = push(dbRef);
        set(newPostRef, msg);

        //å…¥åŠ›æ¬„ã‚’ã‹ã‚‰ã«ã™ã‚‹
        // $('#uname_a').val("");
        $('#text_b').val("");

        // ã“ã®ä¸‹ã¯æ¶ˆã•ãªã„
        });

      // å—ä¿¡å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ğŸ¤—
      onChildAdded(dbRef, function (data) {
        const msg = data.val();
        console.log(msg, "dataã‚’å–å¾—");
        console.log(key);
        if(msg.uname.slice(0,1) == "a"){
        html = `
        <p style="color:blue">${msg.uname.slice(1)}ï¼š${msg.text}</p>
          `;
        }else if(msg.uname.slice(0,1) == "b"){
            console.log("XXX");
            // return;
        html = `
        <p style="color:red">${msg.uname.slice(1)}ï¼š${msg.text}</p> 
        `; 
        }else{
            html = `
        <p style="color:black">${msg.uname}ï¼š${msg.text}</p> 
        `;
        }
        $("#output").prepend(html);
      });

        // å‰Šé™¤å‡¦ç†
      $("#comment_clear").on("click", function () {
        remove(dbRef);
        $("#output").empty();
      });
// });
    //     document.getElementById('comment_clear').addEventListener('click', function() {
    //     firebase.database().ref('msg').remove().then(function(){
    //     alert('å‰Šé™¤ã—ã¾ã—ãŸï¼');
    //     })
    // });
  </script>
</body>

  <!-- #footer/-->
  <footer id="footer" class="footer text-center">
    <small class="copyrights">copyrights2022 ãƒã‚±ã‚¸ãƒ£ãƒ³è£½ä½œå§”å“¡ä¼š All Rights Reserved.</small>
</footer>
  <!-- /#footer -->
</html>